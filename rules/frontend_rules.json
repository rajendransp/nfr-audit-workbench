[
  {
    "id": "NFR-FE-001",
    "title": "fetch call without AbortSignal",
    "category": "reliability",
    "top_level_category": "front_end",
    "sub_category": "concurrency",
    "severity": "S2",
    "pattern": "\\bfetch\\s*\\(\\s*[^,\\n\\)]*(?:,\\s*\\{(?![^}]*\\bsignal\\b)[^}]*\\})?\\s*\\)",
    "ignore_comment_lines": true,
    "include_globs": [
      "*.js",
      "*.jsx",
      "*.ts",
      "*.tsx"
    ],
    "exclude_globs": [
      "**/node_modules/**",
      "**/dist/**",
      "**/build/**",
      "**/.next/**",
      "**/coverage/**",
      "**/*.min.js",
      "**/vendor/**",
      "**/lib/**",
      "**/wwwroot/lib/**",
      "**/Scripts/ej2/**",
      "**/jquery*/**"
    ],
    "rationale": "In-flight requests should be cancellable during navigation/unmount to avoid stale updates and wasted network work.",
    "confidence_hint": 0.7
  },
  {
    "id": "NFR-FE-002",
    "title": "Axios call without timeout",
    "category": "reliability",
    "top_level_category": "front_end",
    "sub_category": "loading",
    "severity": "S2",
    "pattern": "\\baxios\\.(get|post|put|delete|request)\\s*\\((?![^\\)]*\\btimeout\\b)(?![^\\)]*\\baxiosInstance\\b)[^\\)]*\\)",
    "ignore_comment_lines": true,
    "include_globs": [
      "*.js",
      "*.jsx",
      "*.ts",
      "*.tsx"
    ],
    "exclude_globs": [
      "**/node_modules/**",
      "**/dist/**",
      "**/build/**",
      "**/.next/**",
      "**/coverage/**",
      "**/*.min.js",
      "**/vendor/**",
      "**/lib/**",
      "**/wwwroot/lib/**",
      "**/Scripts/ej2/**",
      "**/jquery*/**"
    ],
    "rationale": "Client calls without timeout can hang and consume resources during upstream degradation.",
    "confidence_hint": 0.6
  },
  {
    "id": "NFR-FE-003",
    "title": "setInterval without cleanup",
    "category": "reliability",
    "top_level_category": "front_end",
    "sub_category": "concurrency",
    "severity": "S2",
    "pattern": "\\buseEffect\\s*\\(\\s*\\(\\s*=>[\\s\\S]{0,260}\\bsetInterval\\s*\\((?![\\s\\S]{0,260}\\bclearInterval\\s*\\()",
    "ignore_comment_lines": true,
    "include_globs": [
      "*.js",
      "*.jsx",
      "*.ts",
      "*.tsx"
    ],
    "exclude_globs": [
      "**/node_modules/**",
      "**/dist/**",
      "**/build/**",
      "**/.next/**",
      "**/coverage/**",
      "**/*.min.js",
      "**/vendor/**",
      "**/lib/**",
      "**/wwwroot/lib/**",
      "**/Scripts/ej2/**",
      "**/jquery*/**"
    ],
    "rationale": "Intervals that survive component teardown cause memory leaks and repeated background execution.",
    "confidence_hint": 0.55
  },
  {
    "id": "NFR-FE-004",
    "title": "Unhandled promise chain",
    "category": "reliability",
    "top_level_category": "front_end",
    "sub_category": "concurrency",
    "severity": "S2",
    "pattern": "\\.then\\s*\\(\\s*[^,\\)]{1,200}\\s*\\)(?!\\s*,)(?!\\s*\\.catch\\s*\\()(?!\\s*\\.finally\\s*\\()",
    "ignore_comment_lines": true,
    "include_globs": [
      "*.js",
      "*.jsx",
      "*.ts",
      "*.tsx"
    ],
    "exclude_globs": [
      "**/node_modules/**",
      "**/dist/**",
      "**/build/**",
      "**/.next/**",
      "**/coverage/**",
      "**/*.min.js",
      "**/vendor/**",
      "**/lib/**",
      "**/wwwroot/lib/**",
      "**/Scripts/ej2/**",
      "**/jquery*/**"
    ],
    "rationale": "Unhandled async errors frequently degrade UX and mask production incidents.",
    "confidence_hint": 0.5
  },
  {
    "id": "NFR-FE-005A",
    "title": "Risky innerHTML/dangerouslySetInnerHTML source",
    "category": "reliability",
    "top_level_category": "front_end",
    "sub_category": "loading",
    "severity": "S1",
    "confidence_hint": 0.9,
    "pattern": "(dangerouslySetInnerHTML\\s*=\\s*\\{\\s*\\{\\s*__html\\s*:\\s*[^\\}]{0,220}(marked\\(|editor\\.|response\\.|data\\.|query|location\\.|localStorage|sessionStorage|innerText|value\\b)|\\b[A-Za-z_$][A-Za-z0-9_$]*\\.innerHTML\\s*=\\s*[^;\\n]{0,220}(marked\\(|editor\\.|response\\.|data\\.|query|location\\.|localStorage|sessionStorage|innerText|value\\b))",
    "ignore_comment_lines": true,
    "include_globs": [
      "*.js",
      "*.jsx",
      "*.ts",
      "*.tsx",
      "*.vue",
      "*.html"
    ],
    "exclude_globs": [
      "**/node_modules/**",
      "**/dist/**",
      "**/build/**",
      "**/.next/**",
      "**/coverage/**",
      "**/*.min.js",
      "**/vendor/**",
      "**/lib/**",
      "**/wwwroot/lib/**",
      "**/Scripts/ej2/**",
      "**/jquery*/**"
    ],
    "rationale": "Raw HTML rendering fed by dynamic content sources is high-risk and should be sanitized or replaced with safe rendering."
  },
  {
    "id": "NFR-FE-005B",
    "title": "Generic innerHTML/dangerouslySetInnerHTML usage",
    "category": "reliability",
    "top_level_category": "front_end",
    "sub_category": "loading",
    "severity": "S3",
    "confidence_hint": 0.55,
    "pattern": "\\bdangerouslySetInnerHTML\\b|\\b[A-Za-z_$][A-Za-z0-9_$]*\\.innerHTML\\s*=",
    "ignore_comment_lines": true,
    "include_globs": [
      "*.js",
      "*.jsx",
      "*.ts",
      "*.tsx",
      "*.vue",
      "*.html"
    ],
    "exclude_globs": [
      "**/node_modules/**",
      "**/dist/**",
      "**/build/**",
      "**/.next/**",
      "**/coverage/**",
      "**/*.min.js",
      "**/vendor/**",
      "**/lib/**",
      "**/wwwroot/lib/**",
      "**/Scripts/ej2/**",
      "**/jquery*/**"
    ],
    "rationale": "Generic raw HTML assignment requires review; may be acceptable for constant trusted templates but should be validated."
  },
  {
    "id": "NFR-FE-006",
    "title": "Array index used as React key",
    "category": "performance",
    "top_level_category": "front_end",
    "sub_category": "performance",
    "severity": "S3",
    "pattern": "\\bkey\\s*=\\s*\\{\\s*(index|i)\\s*\\}",
    "include_globs": [
      "*.jsx",
      "*.tsx"
    ],
    "exclude_globs": [
      "**/node_modules/**",
      "**/dist/**",
      "**/build/**",
      "**/.next/**",
      "**/coverage/**",
      "**/*.min.js",
      "**/vendor/**",
      "**/lib/**",
      "**/wwwroot/lib/**",
      "**/Scripts/ej2/**",
      "**/jquery*/**"
    ],
    "rationale": "Unstable keys increase rerenders and can corrupt UI state mapping.",
    "confidence_hint": 0.85
  },
  {
    "id": "NFR-FE-007",
    "title": "Large synchronous loop in render path",
    "category": "performance",
    "top_level_category": "front_end",
    "sub_category": "performance",
    "severity": "S2",
    "pattern": "\\breturn\\s*\\([\\s\\S]{0,520}\\b[A-Za-z_][A-Za-z0-9_]*\\s*\\.\\s*map\\s*\\(",
    "include_globs": [
      "*.jsx",
      "*.tsx"
    ],
    "exclude_globs": [
      "**/node_modules/**",
      "**/dist/**",
      "**/build/**",
      "**/.next/**",
      "**/coverage/**",
      "**/*.min.js",
      "**/vendor/**",
      "**/lib/**",
      "**/wwwroot/lib/**",
      "**/Scripts/ej2/**",
      "**/jquery*/**"
    ],
    "rationale": "Expensive synchronous work in render paths harms frame time and interaction latency.",
    "confidence_hint": 0.35
  },
  {
    "id": "NFR-FE-008",
    "title": "No lazy loading for route components",
    "category": "performance",
    "top_level_category": "front_end",
    "sub_category": "loading",
    "severity": "S3",
    "pattern": "\\b(createBrowserRouter|createRoutesFromElements|Route)\\b[\\s\\S]{0,360}\\belement\\s*:\\s*<\\s*[A-Z][A-Za-z0-9_]*\\b(?![\\s\\S]{0,120}\\blazy\\s*\\(|\\bSuspense\\b|\\bimport\\s*\\()",
    "ignore_comment_lines": true,
    "include_globs": [
      "*.js",
      "*.jsx",
      "*.ts",
      "*.tsx"
    ],
    "exclude_globs": [
      "**/node_modules/**",
      "**/dist/**",
      "**/build/**",
      "**/.next/**",
      "**/coverage/**",
      "**/*.min.js",
      "**/vendor/**",
      "**/lib/**",
      "**/wwwroot/lib/**",
      "**/Scripts/ej2/**",
      "**/jquery*/**"
    ],
    "rationale": "Eager route loading inflates initial bundle and slows first contentful render.",
    "confidence_hint": 0.45
  },
  {
    "id": "NFR-FE-009",
    "title": "Image without lazy loading",
    "category": "performance",
    "top_level_category": "front_end",
    "sub_category": "loading",
    "severity": "S3",
    "pattern": "<img\\b(?![^>]*\\bloading=\\\"lazy\\\")(?![^>]*\\bfetchpriority=\\\"high\\\")",
    "ignore_comment_lines": true,
    "include_globs": [
      "*.html",
      "*.jsx",
      "*.tsx",
      "*.vue"
    ],
    "exclude_globs": [
      "**/node_modules/**",
      "**/dist/**",
      "**/build/**",
      "**/.next/**",
      "**/coverage/**",
      "**/*.min.js",
      "**/vendor/**",
      "**/lib/**",
      "**/wwwroot/lib/**",
      "**/Scripts/ej2/**",
      "**/jquery*/**"
    ],
    "rationale": "Non-lazy images increase network contention and render blocking under limited bandwidth.",
    "confidence_hint": 0.75
  },
  {
    "id": "NFR-FE-010",
    "title": "Frequent input handler without debounce/throttle",
    "category": "performance",
    "top_level_category": "front_end",
    "sub_category": "loading",
    "severity": "S3",
    "pattern": "\\bon(Change|Input|KeyUp)\\s*=\\s*\\{(?![^\\}]{0,200}\\b(debounce|throttle)\\b)[^\\}]{0,220}(fetch|axios|dispatch|setState)",
    "ignore_comment_lines": true,
    "include_globs": [
      "*.jsx",
      "*.tsx",
      "*.vue"
    ],
    "exclude_globs": [
      "**/node_modules/**",
      "**/dist/**",
      "**/build/**",
      "**/.next/**",
      "**/coverage/**",
      "**/*.min.js",
      "**/vendor/**",
      "**/lib/**",
      "**/wwwroot/lib/**",
      "**/Scripts/ej2/**",
      "**/jquery*/**"
    ],
    "rationale": "High-frequency handlers without shaping can overload API and client runtime.",
    "confidence_hint": 0.5
  },
  {
    "id": "NFR-FE-011",
    "title": "console.log in app code",
    "category": "reliability",
    "top_level_category": "front_end",
    "sub_category": "performance",
    "severity": "S4",
    "pattern": "\\bconsole\\.(log|debug|info|trace)\\s*\\(",
    "ignore_comment_lines": true,
    "include_globs": [
      "*.js",
      "*.jsx",
      "*.ts",
      "*.tsx"
    ],
    "exclude_globs": [
      "**/node_modules/**",
      "**/dist/**",
      "**/build/**",
      "**/.next/**",
      "**/coverage/**",
      "**/*test*.*",
      "**/*spec*.*",
      "**/*.min.js",
      "**/vendor/**",
      "**/lib/**",
      "**/wwwroot/lib/**",
      "**/Scripts/ej2/**",
      "**/jquery*/**"
    ],
    "rationale": "Excessive client logging increases noise and can affect render performance in low-end devices.",
    "confidence_hint": 0.95
  },
  {
    "id": "NFR-FE-012",
    "title": "Blocking synchronous Web Storage access in loop",
    "category": "performance",
    "top_level_category": "front_end",
    "sub_category": "performance",
    "severity": "S4",
    "pattern": "\\b(for\\s*\\(|while\\s*\\()[\\s\\S]{0,220}\\b(localStorage|sessionStorage)\\.(getItem|setItem)\\s*\\(",
    "ignore_comment_lines": true,
    "include_globs": [
      "*.js",
      "*.jsx",
      "*.ts",
      "*.tsx"
    ],
    "exclude_globs": [
      "**/node_modules/**",
      "**/dist/**",
      "**/build/**",
      "**/.next/**",
      "**/coverage/**",
      "**/*.min.js",
      "**/vendor/**",
      "**/lib/**",
      "**/wwwroot/lib/**",
      "**/Scripts/ej2/**",
      "**/jquery*/**"
    ],
    "rationale": "Potential sync storage hotspot; often low-impact and context-dependent. Treat as low-priority warning.",
    "confidence_hint": 0.25
  },
  {
    "id": "NFR-FE-013",
    "title": "Unbounded list rendering without virtualization",
    "category": "performance",
    "top_level_category": "front_end",
    "sub_category": "loading",
    "severity": "S3",
    "confidence_hint": 0.55,
    "pattern": "\\breturn\\b[\\s\\S]{0,360}\\b[A-Za-z0-9_]+\\.(map|forEach)\\s*\\(",
    "ignore_comment_lines": true,
    "include_globs": [
      "*.jsx",
      "*.tsx"
    ],
    "exclude_globs": [
      "**/node_modules/**",
      "**/dist/**",
      "**/build/**",
      "**/.next/**",
      "**/coverage/**",
      "**/*.min.js",
      "**/vendor/**",
      "**/lib/**",
      "**/wwwroot/lib/**",
      "**/Scripts/ej2/**",
      "**/jquery*/**"
    ],
    "rationale": "Large list rendering without virtualization can degrade frame time and interaction latency."
  },
  {
    "id": "NFR-FE-014",
    "title": "useEffect data fetch missing dependency array",
    "category": "reliability",
    "top_level_category": "front_end",
    "sub_category": "concurrency",
    "severity": "S2",
    "confidence_hint": 0.6,
    "pattern": "\\buseEffect\\s*\\(\\s*\\(\\s*\\)\\s*=>[\\s\\S]{0,280}\\b(fetch|axios\\.(get|post|put|delete|request))\\b[\\s\\S]{0,280}\\)\\s*(?!,\\s*\\[)",
    "ignore_comment_lines": true,
    "include_globs": [
      "*.js",
      "*.jsx",
      "*.ts",
      "*.tsx"
    ],
    "exclude_globs": [
      "**/node_modules/**",
      "**/dist/**",
      "**/build/**",
      "**/.next/**",
      "**/coverage/**",
      "**/*.min.js",
      "**/vendor/**",
      "**/lib/**",
      "**/wwwroot/lib/**",
      "**/Scripts/ej2/**",
      "**/jquery*/**"
    ],
    "rationale": "Data-fetch effects without dependency arrays can re-run unexpectedly and amplify network load."
  },
  {
    "id": "NFR-FE-015",
    "title": "addEventListener in effect without cleanup",
    "category": "reliability",
    "top_level_category": "front_end",
    "sub_category": "concurrency",
    "severity": "S2",
    "confidence_hint": 0.6,
    "pattern": "\\buseEffect\\s*\\(\\s*\\(\\s*\\)\\s*=>[\\s\\S]{0,320}\\baddEventListener\\s*\\([\\s\\S]{0,320}(?!return\\s*\\(\\s*\\)\\s*=>[\\s\\S]{0,220}\\bremoveEventListener\\s*\\()",
    "ignore_comment_lines": true,
    "include_globs": [
      "*.js",
      "*.jsx",
      "*.ts",
      "*.tsx"
    ],
    "exclude_globs": [
      "**/node_modules/**",
      "**/dist/**",
      "**/build/**",
      "**/.next/**",
      "**/coverage/**",
      "**/*.min.js",
      "**/vendor/**",
      "**/lib/**",
      "**/wwwroot/lib/**",
      "**/Scripts/ej2/**",
      "**/jquery*/**"
    ],
    "rationale": "Event listeners created in effects should be removed on cleanup to avoid leaks and duplicated handlers."
  },
  {
    "id": "NFR-FE-016",
    "title": "Large bundle import anti-patterns",
    "category": "performance",
    "top_level_category": "front_end",
    "sub_category": "loading",
    "severity": "S3",
    "confidence_hint": 0.75,
    "pattern": "\\b(import\\s+[\\*]\\s+as\\s+[A-Za-z0-9_]+\\s+from\\s+[\"'][^\"']+[\"']|import\\s+[\"']moment/locale/all[\"']|require\\s*\\(\\s*[\"']moment/locale/all[\"']\\s*\\))",
    "ignore_comment_lines": true,
    "include_globs": [
      "*.js",
      "*.jsx",
      "*.ts",
      "*.tsx"
    ],
    "exclude_globs": [
      "**/node_modules/**",
      "**/dist/**",
      "**/build/**",
      "**/.next/**",
      "**/coverage/**",
      "**/*.min.js",
      "**/vendor/**",
      "**/lib/**",
      "**/wwwroot/lib/**",
      "**/Scripts/ej2/**",
      "**/jquery*/**"
    ],
    "rationale": "Broad/wildcard imports and moment locale-all import can inflate bundle size and hurt load performance."
  }
]